{"code":"!function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,\"a\",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=\"/dist/prog/\",a(a.s=3)}([,,,function(t,e,a){t.exports=a(4)},function(t,e,a){window.UPLAB_LOAD_LIBS=!0,a.p=a.p||\"/\";document.addEventListener(\"DOMContentLoaded\",(function(){\"undefined\"==typeof jQuery?console.error(\"jQuery undefined\"):(a(5),a(6),a(7),document.dispatchEvent(new CustomEvent(\"UPLAB.LibsLoaded\")))}))},function(t,e){jQuery.fn.extend({scrollTo:function(t,e,a){return e=e||600,t=t||0,\"up\"===$(\"html\").data(\"direction\")&&0===t&&(t=-$(\".header__container\").height()),window.ls?window.ls.scrollTo(this.get(0),{offset:t}):(a=a||this.offset().top+t)&&$(\"html,body\").animate({scrollTop:a},e),this}})},function(t,e){function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(t){var e=function(t,e){if(\"object\"!=a(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||\"default\");if(\"object\"!=a(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==a(e)?e:e+\"\"}var r=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.init()},(e=[{key:\"ajaxReplaceContent\",value:function(t){var e,a=(t=t||{}).dataAttribute,o=t.html,n=t.res||{},r=!0===t.isParseSelector;$(\"[data-\".concat(a,\"]\")).each((function(i,s){var d=$(s),c=d.data(a),l=!1;if(e=!0===t.isAppend&&d.is('[data-ajax-append=\"true\"]'),r){var u=o.find(\"[data-\".concat(a,\"='\").concat(c,\"']\"));u.length&&(l=e?u.html():u.prop(\"outerHTML\"))}else n.hasOwnProperty(c)&&(l=n[c]);l&&(e?d.append($(l)):d.replaceWith(l))}))}},{key:\"loadContent\",value:function(t){var e=this;(t=t||{}).selector=t.selector||this.AJAX_CONTENT_SEL;var a=$(t.selector);a.length?(t.isJson=!1!==t.isJson,t.isParseSelector=!0===t.isParseSelector,t.url=t.url||location.href,t.query=t.query||\"\",t.method=t.method||\"get\",t.onSuccess=\"function\"==typeof t.onSuccess&&t.onSuccess,t.hasOwnProperty(\"isAppend\")||(t.isAppend=!1),t.hasOwnProperty(\"isPrepend\")||(t.isPrepend=!1),t.hasOwnProperty(\"isKeepHistory\")||(t.isKeepHistory=!1),t.hasOwnProperty(\"isKeepTitle\")||(t.isKeepTitle=!1),t.hasOwnProperty(\"isKeepH1\")||(t.isKeepH1=!1),t.hasOwnProperty(\"isScrollOnLoad\")||(t.isScrollOnLoad=!1),$(window).trigger(\"preloader:show\",a),$.ajax({url:t.url,data:t.query,dataType:t.isJson?\"json\":\"html\",method:t.method,success:function(o){$(window).trigger(\"preloader:hide\",a);var n,r=t.isJson?o.html:o;t.isParseSelector&&(r=(n=$(\"<div>\").append(r)).find(t.selector).html()),r&&(t.isPrepend?a.prepend(r):t.isAppend?a.append(r):a.html(r),t.isJson&&(e.ajaxReplaceContent({dataAttribute:\"ajax-replace-content\",html:n||$(r),res:o,isParseSelector:t.isParseSelector,isAppend:t.isAppend}),t.isKeepHistory||history.replaceState({},\"\",o.url),!t.isKeepH1&&o.hasOwnProperty(\"h1\")&&o.h1&&$(\"h1\").html(o.h1),!t.isKeepTitle&&o.hasOwnProperty(\"title\")&&o.title&&(document.title=o.title)),$(window).trigger(\"init\"),window.dispatchEvent(new CustomEvent(\"reinit\")),t.isScrollOnLoad&&a.scrollTo(),t.onSuccess&&t.onSuccess(t,o))}})):console.error(\"no-ajax-container\")}},{key:\"initHandlers\",value:function(){var t=this;$(document).on(\"reset\",\"[data-ajax-form-to]\",(function(e){var a=$(this);t.loadContent({url:a.prop(\"action\")||location.href,query:\"\",method:a.prop(\"method\")||\"post\",selector:a.data(\"ajax-form-to\"),isJson:a.data(\"json-content\"),isParseSelector:a.data(\"parse-selector\"),isAppend:a.data(\"append-content\")||!1,isKeepHistory:a.data(\"keep-history\")||!1,isScrollOnLoad:a.data(\"scroll-on-load\")||!1})})),$(document).on(\"submit\",\"[data-ajax-form-to]\",(function(e){e.preventDefault();var a=$(this);a.prop(\"disabled\",!1),t.loadContent({url:a.data(\"action\")||a.prop(\"action\"),query:a.serializeArray(),method:a.prop(\"method\")||\"post\",selector:a.data(\"ajax-form-to\"),isJson:a.data(\"json-content\"),isParseSelector:a.data(\"parse-selector\"),isAppend:a.data(\"append-content\")||!1,isKeepHistory:a.data(\"keep-history\")||!1,isScrollOnLoad:a.data(\"scroll-on-load\")||!1})})),$(document).on(\"click\",\"[data-ajax-link-to]\",(function(e){e.preventDefault();var a=$(this);a.trigger(\"button:loadingStart\"),t.loadContent({url:a.data(\"href\")||this.href,query:a.data(\"query\")||\"\",selector:a.data(\"ajax-link-to\"),isJson:a.data(\"json-content\"),isParseSelector:a.data(\"parse-selector\"),isAppend:a.data(\"append-content\")||!1,isKeepHistory:a.data(\"keep-history\")||!1,isScrollOnLoad:a.data(\"scroll-on-load\")||!1,onSuccess:function(){a.trigger(\"button:loadingEnd\")}})})),$(document).on(\"click\",\"[data-submit-form-on-click]\",(function(t){t.preventDefault();var e=$(this);$(e.data(\"submit-form-on-click\")).trigger(\"submit\",{query:e.data(\"query\")})})),$(window).on(\"init.ajax\",(function(){$(window).trigger(\"scroll\")}))}},{key:\"init\",value:function(){this.initHandlers()}}])&&o(t.prototype,e),a&&o(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),t;var t,e,a}();$((function(){window.__ajaxLoaderHandler=new r}))},function(t,e){BX.message({BTN_IN_CART:\"Добавлен\"}),BX.message({BTN_BUY:\"Добавить\"}),BX.message({BTN_TITLE_DELETE:\"Удалить из корзины\"}),BX.message({BTN_TITLE_BUY:\"Добавить в корзину\"}),setCounterValue=function(t){var e=$(\"[data-product-counter]\");if(e&&e.length){var a=e.find(\".header__button-counter\");t<=0?(a.text(\"\"),a.addClass(\"visually-hidden\")):(a.text(t),a.removeClass(\"visually-hidden\"))}},window.initBasketProductActions=function(){window.initBasketProductActionsEvent&&(clearTimeout(window.initBasketProductActionsEvent),window.initBasketProductActionsEvent=null),window.initBasketProductActionsEvent=setTimeout((function(){var t=document.querySelectorAll(\"[data-basket]\");t&&t.length>0&&BX.ajax.runAction(\"mtt:local.controllers.basket.getData\",{data:{}}).then((function(e){if(\"success\"===e.status){var a=e.data&&e.data.basketItems?e.data.basketItems:[];t.forEach((function(t){var e=t,o=$(e),n=parseInt(e.getAttribute(\"data-basket\")),r=a.find((function(t){return t.productId===n})),i=r||{action:\"add\"};BX.adjust(e,{attrs:{\"data-basket-action\":JSON.stringify(i)}});var s=e.dataset&&e.dataset.classInCart?e.dataset.classInCart:\"button-circle--in-cart\",d=e.getAttribute(\"data-text-buy\")?e.getAttribute(\"data-text-buy\"):BX.message(\"BTN_BUY\");r?(BX.addClass(e,s),BX.adjust(e,{props:{title:BX.message(\"BTN_TITLE_DELETE\")}}),o.find(\".button-circle__text\").text(BX.message(\"BTN_IN_CART\"))):(BX.removeClass(e,s),BX.adjust(e,{props:{title:BX.message(\"BTN_TITLE_BUY\")}}),o.find(\".button-circle__text\").text(d))})),e.data&&void 0!==e.data.allCount&&setCounterValue(e.data.allCount)}})).catch((function(t){BX.onCustomEvent(\"basket-getData:error\",t)}))}),450)},$((function(){window.isIeBrowser=window.navigator.userAgent.indexOf(\"MSIE \")>0||!!navigator.userAgent.match(/Trident.*rv\\:11\\./);var t=null;function e(t){t.customBlockButtonDisabled=!0,BX.addClass(t,\"is-loading\"),BX.adjust(t,{props:{disabled:!0}})}function a(t){BX.removeClass(t,\"is-loading\"),BX.adjust(t,{props:{disabled:!1}}),t.customBlockButtonDisabled=!1}$(window).off(\"preloader:show\").on(\"preloader:show\",(function(){null===t&&(t=BX.showWait(\"wait\"))})),$(window).off(\"preloader:hide\").on(\"preloader:hide\",(function(){BX.closeWait(\"wait\",t),t=null}));var o=null,n=function(t){o&&(clearTimeout(o),o=null),o=setTimeout(function(t){return function(){var e=$(t.currentTarget).closest(\"form\");!0!==e.prop(\"disabled\")&&(e.prop(\"disabled\",!0),e.trigger(\"submit\"))}}(t),600)};$(document).on(\"change\",[\"[data-auto-submit] select:not(.custom-select__select)\",\"[data-auto-submit] .custom-select__select.selectr-inited\",\"[data-auto-submit] input[type=checkbox]\",\"[data-auto-submit] input[type=radio]\"].join(\",\"),n),$(document).on(isIeBrowser?\"change\":\"input keydown paste change\",[\"[data-auto-submit] input[type=text]\",\"[data-auto-submit] input[type=search]\",\"[data-auto-submit] input[type=number]\",\"[data-auto-submit] input[type=hidden]\"].join(\",\"),(function(t){var e=$(t.currentTarget),a=e.val(),o=e.prop(\"oldVal\")||\"\";if(e.prop(\"oldVal\",a),a!==o)if(o.length&&0===a.length)n(t);else{\"city\"==e.attr(\"name\")?$(\"#city_changed\").val(\"Y\"):$(\"#city_changed\").val(\"N\");var r=+e.data(\"submit-length-from\");if(r){if(e.val().length<r)return e.prop(\"crossed\")&&n(t),void e.prop(\"crossed\",!1);e.prop(\"crossed\",!0)}n(t)}})),$(\"[data-open-support-chat]\").click((function(){$(\"#chat21-launcher-button\").click()})),BX.bindDelegate(document,\"click\",{attribute:\"data-basket\"},(function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();var o=this,n=$(o),r=o.getAttribute(\"data-basket\");if(!r)return console.error(\"Empty product id\",o),!1;var i=o.getAttribute(\"data-basket-action\");if(!i)return console.error(\"Empty attrData\",o),!1;e(o);var s=JSON.parse(i).action,d={productId:r,quantity:1},c=o.getAttribute(\"data-basket-prop\");if(c){var l=n.closest(c).find(\"form\");if(l.length>0){var u=l.serializeArray();u&&(d.options=u)}}BX.ajax.runAction(\"mtt:local.controllers.basket.\"+s,{data:d}).then((function(t){if(\"success\"===t.status){var e=t.data;if(window.dispatchEvent(new CustomEvent(\"basket:update\")),a(o),e&&void 0!==e.allCount&&(setCounterValue(e.allCount),delete e.allCount),e&&e.errors)return console.log(e.errors),delete e.errors,alert(\"Ошибка добавления в корзину. Подробности в логе.\"),!1;BX.adjust(o,{attrs:{\"data-basket-action\":JSON.stringify(e)}});var r=o.dataset&&o.dataset.classInCart?o.dataset.classInCart:\"button-circle--in-cart\",i=o.getAttribute(\"data-text-buy\")?o.getAttribute(\"data-text-buy\"):BX.message(\"BTN_BUY\");if(\"add\"===s){BX.addClass(o,r),BX.adjust(o,{props:{title:BX.message(\"BTN_TITLE_DELETE\")}}),n.find(\".button-circle__text\").text(BX.message(\"BTN_IN_CART\")),$('.header .header__button[data-modal-ajax-modifier=\"basket\"]').trigger(\"click\");var d=setTimeout((function(){$(\".modal--basket .modal__close\").trigger(\"click\")}),2e3);setTimeout((function(){$(\".modal--basket .modal__container\").mouseenter((function(){clearTimeout(d),d=0}))}),500)}else\"delete\"===s&&(BX.removeClass(o,r),BX.adjust(o,{props:{title:BX.message(\"BTN_TITLE_BUY\")}}),n.find(\".button-circle__text\").text(i))}})).catch((function(t){a(o)}))})),window.initBasketProductActions(),$(document).off(\"click.data-delete-item-cart\").on(\"click.data-delete-item-cart\",\"[data-delete-item-cart]\",(function(t){e(this),BX.ajax.runAction(\"mtt:local.controllers.basket.deleteCart\",{data:{productId:$(this).data(\"delete-item-cart\")}}).then((function(t){var e=t.data;if(e&&void 0!==e.allCount&&(setCounterValue(e.allCount),delete e.allCount),e&&void 0!==e.cart){var a=$(\"<div>\"+e.cart+\"</div>\").find(\".modal-basket\").html();$(\".modal-basket\").html(a),$(window).trigger(\"init\"),window.dispatchEvent(new CustomEvent(\"reinit\")),window.initBasketProductActions()}}))}))}))}]);","extractedComments":[]}